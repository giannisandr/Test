<!DOCTYPE html>
<html>
<head>
  <% include ../partials/header.ejs %>
</head>

<body>

  <% include ../partials/nav.ejs %>

<div class="jumbotron text-center">
  <h1>Lightning Out</h1>
  <script src="https://myeurolife--qa.lightning.force.com/lightning/lightning.out.js"></script>
  <script>
       $Lightning.use("c:LightningOutDemo", function() {
         console.log("App embeded")
           $Lightning.createComponent("c:NewDatable",
                {"token" : "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiIsImtpZCI6ImtleTMifQ.eyJpc3MiOiJFdWNhbHlwdHVzIiwidWlkIjoiMSIsImJjZCI6IjIiLCJqdGkiOiIzYTEzYzZhNi0xY2EyLTQyZjUtOWQ3Ni05Njg5OWY5YTJjYWQiLCJpYXQiOjE2MTg5Mjk2NTEsImV4cCI6MTYxODkyOTk1MX0.RJUlunPlkqejSVHrpgZkfqBDslnqdLfqy0xbfLSCIps"}, //eyJraWQiOiJrZXk0IiwidHlwIjoiSldUIiwiYWxnIjoiSFMyNTYifQ.eyJpc3MiOiJFdWNhbHlwdHVzIiwiZXhwIjoxNjE3MTg3NzY4LCJ1aWQiOiIxIiwiYmNkIjoiMiJ9.2QZCqB8Ed4_8EHBNggDb-RCtZfzpZG4_S0IPr-cPbHg
                "lightning",
                function(cmp) {
                  console.log("LWC component was created");
                  // do some stuff
                }
            ); 
          },
         "https://myeurolife--qa.lightning.force.com",
         "00D0E000000AUdf!AQgAQBNCPTdyo4RX18OcGj3IsqFirGv7f5DKWid0OzBrw3TB.27f6N.C3ink24t0KluWwIiPKj.tKDzuWniD9FC5hLZHst9h",
        );
  </script>
</div>


<div id="lightning"></div>

<script type='text/javascript' src='https://service.force.com/embeddedservice/menu/fab.min.js'></script>
<script type='text/javascript'>
	var initESW = function(gslbBaseURL) {
		// Required if you want labels in a language that’s different from your user’s context.
		//embedded_svc.menu.settings.language = ''; //For example, enter 'en' or 'en-US'
		embedded_svc.menu.init(
			'https://myeurolife--qa.my.salesforce.com',
			'https://d.la2-c1cs-cdg.salesforceliveagent.com/chat',
			gslbBaseURL,
			'00D0E000000AUdf',
			'EmbeddedChatComponent'
		);
	};
	if (!window.embedded_svc || !window.embedded_svc.menu) {
		var s = document.createElement('script');
		s.setAttribute('src', 'https://myeurolife--qa.my.salesforce.com/embeddedservice/menu/fab.min.js');
		s.onload = function() {
			initESW(null);
		};
		document.body.appendChild(s);
	} else {
		initESW('https://service.force.com');
	}
</script>


</body>
</html>
