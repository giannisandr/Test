<!DOCTYPE html>
<html>
<head>
  <% include ../partials/header.ejs %>
</head>

<body>

  <% include ../partials/nav.ejs %>

<div class="jumbotron text-center">
  <h1>Lightning Out</h1>
  <script src="https://myeurolife--qa.lightning.force.com/lightning/lightning.out.js"></script>
  <script>
       $Lightning.use("c:LightningOutDemo", function() {
         console.log("App embeded")
           $Lightning.createComponent("c:NewDatable",
                {"token" : "eyJraWQiOiJrZXkxIiwiYWxnIjoiSFMyNTYiLCJ0eXAiOiJKV1QifQ.BTXV/knUf6bcGuQgjbqQqbzJwhkffWloZ5kCB4mpaQff171pOj9fwPoICWj6DXPi9m4NxbOH0+agvAVUGwQ4zK40816Wb7DoLpkrBq9lEAuC6q9ORU0IXz4Uwy2p+KP8.uZIf8AiEZtpTe12coadYGsGP89EapgeFPwbXSQhHEJg"},
                "lightning",
                function(cmp) {
                  console.log("LWC component was created");
                  // do some stuff
                }
            ); 
          },
         "https://myeurolife--qa.lightning.force.com",
         "00D0E000000AUdf!AQgAQLbhIhdtb4VYd7wJ29iL2ubSeyV4j8zSXKFJ5adTH9F4hazBNKWUZ9nMH3zw7YBEDRVaqrA1sKSp.zm9G0PPJeTCdFrI",
        );
  </script>
</div>


<div id="lightning"></div>

<script type='text/javascript' src='https://service.force.com/embeddedservice/menu/fab.min.js'></script>
<script type='text/javascript'>
	var initESW = function(gslbBaseURL) {
		// Required if you want labels in a language that’s different from your user’s context.
		//embedded_svc.menu.settings.language = ''; //For example, enter 'en' or 'en-US'
		embedded_svc.menu.init(
			'https://myeurolife--qa.my.salesforce.com',
			'https://d.la2-c1cs-cdg.salesforceliveagent.com/chat',
			gslbBaseURL,
			'00D0E000000AUdf',
			'EmbeddedChatComponent'
		);
	};
	if (!window.embedded_svc || !window.embedded_svc.menu) {
		var s = document.createElement('script');
		s.setAttribute('src', 'https://myeurolife--qa.my.salesforce.com/embeddedservice/menu/fab.min.js');
		s.onload = function() {
			initESW(null);
		};
		document.body.appendChild(s);
	} else {
		initESW('https://service.force.com');
	}
</script>


</body>
</html>
